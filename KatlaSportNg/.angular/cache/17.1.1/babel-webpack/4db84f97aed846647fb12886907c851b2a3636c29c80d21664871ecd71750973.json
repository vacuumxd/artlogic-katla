{"ast":null,"code":"var Trigger = /** @class */function () {\n  function Trigger(open, close) {\n    this.open = open;\n    this.close = close;\n    if (!close) {\n      this.close = open;\n    }\n  }\n  Trigger.prototype.isManual = function () {\n    return this.open === 'manual' || this.close === 'manual';\n  };\n  return Trigger;\n}();\nexport { Trigger };\nvar DEFAULT_ALIASES = {\n  'hover': ['mouseenter', 'mouseleave']\n};\nexport function parseTriggers(triggers, aliases) {\n  if (aliases === void 0) {\n    aliases = DEFAULT_ALIASES;\n  }\n  var trimmedTriggers = (triggers || '').trim();\n  if (trimmedTriggers.length === 0) {\n    return [];\n  }\n  var parsedTriggers = trimmedTriggers.split(/\\s+/).map(function (trigger) {\n    return trigger.split(':');\n  }).map(function (triggerPair) {\n    var alias = aliases[triggerPair[0]] || triggerPair;\n    return new Trigger(alias[0], alias[1]);\n  });\n  var manualTriggers = parsedTriggers.filter(function (triggerPair) {\n    return triggerPair.isManual();\n  });\n  if (manualTriggers.length > 1) {\n    throw 'Triggers parse error: only one manual trigger is allowed';\n  }\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\n    throw 'Triggers parse error: manual trigger can\\'t be mixed with other triggers';\n  }\n  return parsedTriggers;\n}\nvar noopFn = function () {};\nvar ɵ0 = noopFn;\nexport function listenToTriggers(renderer, nativeElement, triggers, openFn, closeFn, toggleFn) {\n  var parsedTriggers = parseTriggers(triggers);\n  var listeners = [];\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n    return noopFn;\n  }\n  parsedTriggers.forEach(function (trigger) {\n    if (trigger.open === trigger.close) {\n      listeners.push(renderer.listen(nativeElement, trigger.open, toggleFn));\n    } else {\n      listeners.push(renderer.listen(nativeElement, trigger.open, openFn), renderer.listen(nativeElement, trigger.close, closeFn));\n    }\n  });\n  return function () {\n    listeners.forEach(function (unsubscribeFn) {\n      return unsubscribeFn();\n    });\n  };\n}\nexport { ɵ0 };\n//# sourceMappingURL=triggers.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}