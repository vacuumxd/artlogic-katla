{"ast":null,"code":"import { Injectable, Inject, InjectionToken } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nexport var ARIA_LIVE_DELAY = new InjectionToken('live announcer delay');\nexport var DEFAULT_ARIA_LIVE_DELAY = 100;\nfunction createLiveElement(document) {\n  var element = document.createElement('div');\n  element.setAttribute('aria-live', 'polite');\n  element.setAttribute('aria-atomic', 'true');\n  element.classList.add('sr-only');\n  document.body.appendChild(element);\n  return element;\n}\nvar Live = /** @class */function () {\n  function Live(document, _delay) {\n    this._delay = _delay;\n    this._element = createLiveElement(document);\n  }\n  Live.prototype.ngOnDestroy = function () {\n    this._element.parentElement.removeChild(this._element);\n  };\n  Live.prototype.say = function (message) {\n    var element = this._element;\n    var delay = this._delay;\n    element.textContent = '';\n    var setText = function () {\n      return element.textContent = message;\n    };\n    if (delay === null) {\n      setText();\n    } else {\n      setTimeout(setText, delay);\n    }\n  };\n  Live.decorators = [{\n    type: Injectable\n  }];\n  /** @nocollapse */\n  Live.ctorParameters = function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [ARIA_LIVE_DELAY]\n      }]\n    }];\n  };\n  return Live;\n}();\nexport { Live };\n//# sourceMappingURL=live.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}