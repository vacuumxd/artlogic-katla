{"ast":null,"code":"import { TemplateRef } from '@angular/core';\nvar ContentRef = /** @class */function () {\n  function ContentRef(nodes, viewRef, componentRef) {\n    this.nodes = nodes;\n    this.viewRef = viewRef;\n    this.componentRef = componentRef;\n  }\n  return ContentRef;\n}();\nexport { ContentRef };\nvar PopupService = /** @class */function () {\n  function PopupService(_type, _injector, _viewContainerRef, _renderer, _componentFactoryResolver) {\n    this._type = _type;\n    this._injector = _injector;\n    this._viewContainerRef = _viewContainerRef;\n    this._renderer = _renderer;\n    this._componentFactoryResolver = _componentFactoryResolver;\n  }\n  PopupService.prototype.open = function (content, context) {\n    if (!this._windowRef) {\n      this._contentRef = this._getContentRef(content, context);\n      this._windowRef = this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type), 0, this._injector, this._contentRef.nodes);\n    }\n    return this._windowRef;\n  };\n  PopupService.prototype.close = function () {\n    if (this._windowRef) {\n      this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView));\n      this._windowRef = null;\n      if (this._contentRef.viewRef) {\n        this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\n        this._contentRef = null;\n      }\n    }\n  };\n  PopupService.prototype._getContentRef = function (content, context) {\n    if (!content) {\n      return new ContentRef([]);\n    } else if (content instanceof TemplateRef) {\n      var viewRef = this._viewContainerRef.createEmbeddedView(content, context);\n      return new ContentRef([viewRef.rootNodes], viewRef);\n    } else {\n      return new ContentRef([[this._renderer.createText(\"\" + content)]]);\n    }\n  };\n  return PopupService;\n}();\nexport { PopupService };\n//# sourceMappingURL=popup.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}